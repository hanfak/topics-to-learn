# Certificates and JKS

<!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->

- [Certificates and JKS](#certificates-and-jks)
	- [jks](#jks)
	- [truststore jks](#truststore-jks)
	- [keystore jks](#keystore-jks)
	- [keytool](#keytool)
	- [openssl](#openssl)
	- [csr - certificate signing request](#csr-certificate-signing-request)
	- [crt/cer](#crtcer)
	- [ca/signing authority](#casigning-authority)
		- [cert chain](#cert-chain)
			- [root ca](#root-ca)
			- [intermediate ca](#intermediate-ca)
			- [end entity or leaf or site specific ca](#end-entity-or-leaf-or-site-specific-ca)
	- [self signed cert](#self-signed-cert)
	- [pem format](#pem-format)
	- [der format](#der-format)
	- [public key and cert](#public-key-and-cert)
	- [private key](#private-key)
	- [tls/ssl](#tlsssl)
	- [Mutual tls](#mutual-tls)
	- [https communication](#https-communication)
	- [jetty https server](#jetty-https-server)

<!-- /TOC -->

- https://www.youtube.com/watch?v=SEKsvHYZz8s
- https://codeburst.io/how-mutual-tls-work-aec3d91451ce
-

## jks

  - https://en.wikipedia.org/wiki/Java_KeyStore
  - https://www.moreofless.co.uk/java-keystore-truststore-difference-certificate/
  - https://dzone.com/articles/extracting-a-private-key-from-java-keystore-jks

## truststore jks

  public cert - trusted server to talk to
  use intermediate

## keystore jks

  server
  contain private, public and cert

## keytool

  - A way to look at jks contents


## openssl
  - A tool to look at certs

## csr - certificate signing request

  - https://en.wikipedia.org/wiki/Certificate_signing_request

## crt/cer
  - multiple crts
  - openssl
  - multiple domains
  - https://en.wikipedia.org/wiki/Public_key_certificate
  - cer - generated by windows
  - Add the chain to the certificate, app specific cert followed by issuing intermediate cert

## ca/signing authority

### cert chain

#### root ca

#### intermediate ca

#### end entity or leaf or site specific ca

## self signed cert

  - https://devcenter.heroku.com/articles/ssl-certificate-self
  - https://www.akadia.com/services/ssh_test_certificate.html
  - https://developer.okta.com/blog/2019/10/23/dangers-of-self-signed-certs

## pem format

## der format


## public key and cert

## private key

## tls/ssl

- https://www.youtube.com/watch?v=yJrJEvvW_HA

## Mutual tls

- Where the server authenticates the client during the ssl handshake
- The client must have a signed public certificate which is trusted by the server
  - The client sends a csr to a Trusted Certificate Issuing Authorities that the server trusts (This can be themselves) who will create the public client cert
- When the client communicates with the server, the server will check the public client cert, follow the signing chain and if it matches any that it trusts (some truststore in the server) it will allow communication
- Client certificates don’t encrypt any data; they’re installed for validation purposes only.
- Issues
  - If someone gets hold of this client cert, then the server will allow them to access the server

## https communication

## jetty https server
  -https://newfivefour.com/jetty-9-ssl-https.html
